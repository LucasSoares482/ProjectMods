module hearing_aid
{
	imports
	{
		Base
	}

	fixing Fix Hearing Aid
	{
		Require : InefficientHearingAid;EfficientHearingAid;BoostedHearingAid,
		Fixer : ElectronicsScrap=1; Electricity=2,
	}

	item BrokenHearingAid
	{
		DisplayName		    =			Broken Hearing Aid,
		Icon			    =			HearingAid_Broken,
		WorldStaticModel	=           hearingAid,
		ScaleWorldIcon		=			0.3,
		Type	    		=			Clothing,
		DisplayCategory		=			Accessory,
		ClothingItem		=			HearingAid,
		Cosmetic			=			true,
		Weight	    		=			0.1,
		BodyLocation    	=			Ears,
		CanHaveHoles    	=			false,
		RemoveOnBroken		=			false,
		ChanceToFall		=			5,
		MetalValue	    	=			1,
	}

	item InefficientHearingAid
	{
		DisplayName		    =			Hearing Aid,
		Icon			    =			HearingAid,
		WorldStaticModel	=           hearingAid,
		ScaleWorldIcon		=			0.3,
		Type	    		=			Clothing,
		DisplayCategory		=			Accessory,
		ClothingItem		=			HearingAid,
		Weight	    		=			0.1,
		BodyLocation    	=			Ears,
		CanHaveHoles    	=			false,
		RemoveOnBroken		=			false,
		ChanceToFall		=			5,
		MetalValue	    	=			1,
	}

	item EfficientHearingAid
	{
		DisplayName		    =			Efficient Hearing Aid,
		Icon			    =			HearingAid,
		WorldStaticModel	=           hearingAid,
		ScaleWorldIcon		=			0.3,
		Type	    		=			Clothing,
		DisplayCategory		=			Accessory,
		ClothingItem		=			HearingAid,
		Weight	    		=			0.1,
		BodyLocation    	=			Ears,
		CanHaveHoles    	=			false,
		RemoveOnBroken		=			false,
		ChanceToFall		=			5,
		MetalValue	    	=			1,
	}

	item BoostedHearingAid
	{
		DisplayName		    =			Boosted Hearing Aid,
		Icon			    =			HearingAid,
		WorldStaticModel	=           hearingAid,
		ScaleWorldIcon		=			0.3,
		Type	    		=			Clothing,
		DisplayCategory		=			Accessory,
		ClothingItem		=			HearingAid,
		Weight	    		=			0.1,
		BodyLocation    	=			Ears,
		CanHaveHoles    	=			false,
		RemoveOnBroken		=			false,
		ChanceToFall		=			5,
		MetalValue	    	=			1,
	}

	recipe Dismantle Hearing Aid
	{
		BrokenHearingAid/InefficientHearingAid/EfficientHearingAid/BoostedHearingAid,
		keep [Recipe.GetItemTypes.Screwdriver],

		Result:ElectronicsScrap=2,
		Time:30.0,
		OnTest:Recipe.OnTest.DismantleElectronics,
		OnCreate:HearingAidManager.DismantleHearingAid,
		OnGiveXP:Recipe.OnGiveXP.DismantleElectronics,
		Category:Electrical,
		AnimNode:Disassemble,
		Prop1:Screwdriver,
		Sound:Dismantle,
	}

	recipe Craft Hearing Aid
	{
		ElectronicsScrap=2,
		Earbuds/Headphones,
		keep [Recipe.GetItemTypes.Screwdriver],

		Result:BrokenHearingAid,
		Time:30.0,
		OnTest:Recipe.OnTest.DismantleElectronics,
		OnCreate:HearingAidManager.DismantleHearingAid,
		OnGiveXP:Recipe.OnGiveXP.DismantleElectronics,
		Category:Electrical,
		AnimNode:Disassemble,
		Prop1:Screwdriver,
		Sound:Dismantle,
	}

	recipe Repair Hearing Aid
	{
		BrokenHearingAid,
		ElectronicsScrap=2,
		keep [Recipe.GetItemTypes.Screwdriver],

		SkillRequired:Electricity=1,
		Result:InefficientHearingAid,
		Time:60.0,
		OnGiveXP:Recipe.OnGiveXP.DismantleElectronics,
		Category:Electrical,
		AnimNode:Disassemble,
		Prop1:Screwdriver,
	}

	recipe Optimize Hearing Aid
	{
		InefficientHearingAid,
		ElectronicsScrap=2,
		ElectricWire,
		keep [Recipe.GetItemTypes.Screwdriver],

		SkillRequired:Electricity=2,
		Result:EfficientHearingAid,
		Time:80.0,
		OnCreate:HearingAidManager.DismantleHearingAid,
		OnGiveXP:Recipe.OnGiveXP.DismantleElectronics,
		Category:Electrical,
		AnimNode:Disassemble,
		Prop1:Screwdriver,
	}

	recipe Boost Hearing Aid
	{
		EfficientHearingAid,
		ElectronicsScrap=2,
		Amplifier,
		ElectricWire,
		keep [Recipe.GetItemTypes.Screwdriver],

		SkillRequired:Electricity=3,
		Result:BoostedHearingAid,
		Time:120.0,
		OnTest:HearingAidManager.IsBoostValid,
		OnCreate:HearingAidManager.DismantleHearingAid,
		OnGiveXP:Recipe.OnGiveXP.DismantleElectronics,
		Category:Electrical,
		AnimNode:Disassemble,
		Prop1:Screwdriver,
	}
}
